# Continue Here

**Created**: 2026-02-19 late evening (Mac session)
**Task**: Planning & spec maintenance — all 4 specs READY, SPEC-001 implementing on Framework
**Branch**: main

## What's Done This Session

1. Opened session from previous checkpoint (Vercel setup complete on Framework side)
2. Fixed SPEC-003 spec-check notes (7 items) → status READY
3. Fixed SPEC-004 spec-check notes (7 items) → status READY
4. Committed and pushed all spec fixes + deleted old checkpoint
5. Pulled Framework's Vercel setup commits (seed script, schema FK fix, BOM handling)
6. Compliance audit against case study brief — identified 3 gaps
7. Updated TODO with gap sub-bullets (labelName in drugs API, disabled Retail chip, extension mock-up written narrative)
8. Strategic planning: expanded extension mock-ups from 3 to 5 panels (dropped CSV upload — no value without cross-client comparison)
9. Added "Ask the Data" chat sidebar to Sunday TODO — Anthropic API (Haiku), context-stuffed, Vercel AI SDK

## What's Remaining

### Framework is implementing (Thu night / Fri):
- SPEC-001: API routes + shared types (IN PROGRESS on Framework)
- SPEC-002: FilterContext + FilterBar + URL sync
- SPEC-003: Executive Overview
- SPEC-004: Claims Explorer
- Post-implementation tweaks: `labelName` in drugs API, disabled "Retail (100%)" chip

### Saturday (Mac specs + Framework builds):
- Write spec for Anomalies & Recommendations page (4 investigation panels, follow-up questions, extension mock-ups)
- Extension mock-ups: 5 panels (client onboarding + comparison, pricing, demographics, anomaly detection — all MOCK with written narrative)

### Sunday:
- "Ask the Data" chat sidebar: `/api/chat` route, Anthropic API (Haiku), context-stuffed with EDA findings, streamed via Vercel AI SDK `useChat()`, shadcn Sheet UI
- AI Process page (tools, methodology, build journey, limitations)
- Enterprise polish pass

### Monday:
- QA, browser testing, final deploy, submit

## Decisions Made This Session

- **Dropped CSV upload build**: No value without cross-client comparison view. Upload without comparison is a dead end — user uploads Pharmacy B and just switches between isolated dashboards. Vision matters more than demo tricks.
- **Dropped fake Pharmacy B entity**: Synthetic data they didn't provide is a demo trick, not a product feature. Keep entity selector locked to Pharmacy A.
- **Extension mock-ups expanded to 5 panels**: Client onboarding + comparison, pricing/reimbursement, patient demographics, automated anomaly detection, (cross-client comparison merged into onboarding panel). All MOCK with strong written narrative.
- **"Ask the Data" chat sidebar approved**: Anthropic API (Haiku), context-stuffed with EDA findings (not live SQL — safer). Slot for Sunday before polish. Vercel AI SDK for streaming. High impact for AI Proficiency scoring axis.
- **Mail/Retail gap acknowledged**: Brief lists it as a drill-down dimension. Adding disabled "Retail (100%)" chip to FilterBar to show we noticed. 100% retail insight card already in SPEC-003 templates.
- **LABEL_NAME gap acknowledged**: Brief's data dictionary includes it. Adding to drugs API response, surface in drug table tooltip on hover.

## In-Progress State

- `TODO.md` modified (not committed) — updated with compliance gaps, expanded extension mock-ups, chat sidebar
- Framework is actively implementing SPEC-001 on the Framework Desktop machine
- No specs need writing until Saturday (Anomalies & Recommendations page)

## Next Action

Commit the TODO.md changes and push. Then this Mac session is done — nothing blocking until Framework finishes SPEC-001 and needs review, or until Saturday when the Anomalies spec needs writing. Next Mac session should start with `/open-session`, pull Framework's SPEC-001 implementation, and review.
